<view class="container">
  <view class="header">
    <text class="title">ä»»åŠ¡ç”³è¯·ç®¡ç†</text>
    <text class="subtitle">å¾…å®¡æ‰¹çš„ä»»åŠ¡ç”³è¯·</text>
  </view>

  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view wx:elif="{{applications.length === 0}}" class="empty">
    <text class="empty-icon">ğŸ“‹</text>
    <text class="empty-text">æš‚æ— å¾…å®¡æ‰¹ç”³è¯·</text>
    <text class="empty-desc">å½“æœ‰äººç”³è¯·æ‚¨å‘å¸ƒçš„ä»»åŠ¡æ—¶ï¼Œä¼šåœ¨è¿™é‡Œæ˜¾ç¤º</text>
  </view>

  <view wx:else class="applications-list">
    <view 
      wx:for="{{applications}}" 
      wx:key="_id" 
      class="application-item"
    >
      <view class="application-header">
        <view class="applicant-info">
          <image 
            class="applicant-avatar" 
            src="{{item.applicantAvatar || '/images/default-avatar.svg'}}"
            mode="aspectFill"
          />
          <view class="applicant-details">
            <text class="applicant-name">{{item.applicantName}}</text>
            <text class="apply-time">{{item.createdAt}}</text>
          </view>
        </view>
        <view class="status-badge pending">å¾…å®¡æ‰¹</view>
      </view>

      <view class="task-info">
        <text class="task-title">{{item.demandTitle}}</text>
        <text class="task-content" wx:if="{{item.demandContent}}">{{item.demandContent}}</text>
        <text class="task-location" wx:if="{{item.location}}">ğŸ“ {{item.location}}</text>
      </view>

      <view class="action-buttons">
        <button 
          class="btn btn-detail" 
          bindtap="viewApplicationDetail"
          data-application="{{item}}"
        >
          æŸ¥çœ‹è¯¦æƒ…
        </button>
        <button 
          class="btn btn-reject" 
          bindtap="rejectApplication"
          data-application-id="{{item._id}}"
          data-demand-title="{{item.demandTitle}}"
        >
          æ‹’ç»
        </button>
        <button 
          class="btn btn-approve" 
          bindtap="approveApplication"
          data-application-id="{{item._id}}"
          data-demand-title="{{item.demandTitle}}"
        >
          æ‰¹å‡†
        </button>
      </view>
    </view>
  </view>
</view>