<view class="container">
  <view class="header">
    <text class="title">数据库初始化测试</text>
  </view>
  
  <view class="buttons">
    <button class="btn" bindtap="initDatabase">初始化数据库</button>
    <button class="btn" bindtap="checkDatabase">检查数据库</button>
  </view>
  
  <view class="results" wx:if="{{initResult}}">
    <text class="section-title">初始化结果:</text>
    <view class="result-item">
      <text>状态: {{initResult.success ? '成功' : '失败'}}</text>
    </view>
    <view class="result-item">
      <text>消息: {{initResult.message}}</text>
    </view>
    <view wx:for="{{initResult.results}}" wx:key="collection" class="collection-item">
      <text>{{item.collection}}: {{item.status}} - {{item.message}}</text>
    </view>
  </view>
  
  <view class="results" wx:if="{{checkResult}}">
    <text class="section-title">检查结果:</text>
    <view class="result-item">
      <text>状态: {{checkResult.success ? '成功' : '失败'}}</text>
    </view>
    <view wx:for="{{checkResult.results}}" wx:key="collection" class="collection-item">
      <text>{{item.collection}}: {{item.exists ? '存在' : '不存在'}}</text>
      <text wx:if="{{item.error}}" class="error">错误: {{item.error}}</text>
    </view>
  </view>
</view>